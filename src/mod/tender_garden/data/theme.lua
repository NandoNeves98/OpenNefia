local map0 = {
   "elona.world_grass",
   "elona.world_small_trees_1",
   "elona.world_small_trees_2",
   "elona.world_small_trees_3",
   "elona.world_trees_1",
   "elona.world_trees_2",
   "elona.world_trees_3",
   "elona.world_trees_4",
   "elona.world_trees_5",
   "elona.world_trees_6",
   "elona.world_plants_1",
   "elona.world_plants_2",
   "elona.world_plants_3",
   "elona.world_dirt_1",
   "elona.world_dirt_2",
   "elona.world_dirt_3",
   "elona.world_dirt_4",
   "elona.world_snow_cross",
   "elona.world_snow",
   "elona.world_snow_trees_1",
   "elona.world_snow_trees_2",
   "elona.world_snow_crater",
   "elona.world_snow_mounds",
   "elona.world_road_ns",
   "elona.world_road_we",
   "elona.world_road_sw",
   "elona.world_road_se",
   "elona.world_road_nw",
   "elona.world_road_ne",
   "elona.world_road_swe",
   "elona.world_road_nsw",
   "elona.world_road_nwe",
   "elona.world_road_nse",
   "elona.world_flower_1",
   "elona.world_flower_2",
   "elona.world_flower_3",
   "elona.world_flower_4",
   "elona.world_flower_5",
   "elona.world_flower_6",
   "elona.world_flower_7",
   "elona.world_mounds_1",
   "elona.world_mounds_2",
   "elona.world_bridge_left",
   "elona.world_bridge_middle",
   "elona.world_bridge_right",
   "elona.world_snow_dead_tree",
   "elona.world_snow_trees_3",
   "elona.world_snow_trees_4",
   "elona.world_snow_trees_5",
   "elona.world_snow_border_w",
   "elona.world_snow_border_e",
   "elona.world_snow_border_n",
   "elona.world_snow_border_s",
   "elona.world_snow_border_corner_ne",
   "elona.world_snow_border_corner_nw",
   "elona.world_snow_border_corner_se",
   "elona.world_snow_border_corner_sw",
   "elona.world_snow_border_ne",
   "elona.world_snow_border_nw",
   "elona.world_snow_border_se",
   "elona.world_snow_border_sw",
   "elona.world_water",
   "elona.world_water_rocks",
   "elona.world_water_2",
   "elona.world_water_iceberg",
   "elona.world_water_rock",
   "elona.world_water_shadow",
   "elona.world_grass_water_border_w",
   "elona.world_grass_water_border_e",
   "elona.world_grass_water_border_n",
   "elona.world_grass_water_border_s",
   "elona.world_grass_water_border_corner_ne",
   "elona.world_grass_water_border_corner_nw",
   "elona.world_grass_water_border_corner_se",
   "elona.world_grass_water_border_corner_sw",
   "elona.world_grass_water_border_ne",
   "elona.world_grass_water_border_nw",
   "elona.world_grass_water_border_se",
   "elona.world_grass_water_border_sw",
   "elona.world_snow_water_border_w",
   "elona.world_snow_water_border_e",
   "elona.world_snow_water_border_n",
   "elona.world_snow_water_border_s",
   "elona.world_snow_water_border_corner_ne",
   "elona.world_snow_water_border_corner_nw",
   "elona.world_snow_water_border_corner_se",
   "elona.world_snow_water_border_corner_sw",
   "elona.world_snow_water_border_ne",
   "elona.world_snow_water_border_nw",
   "elona.world_snow_water_border_se",
   "elona.world_snow_water_border_sw",
   "elona.world_cliff_nw",
   "elona.world_cliff_n",
   "elona.world_cliff_ne",
   "elona.world_cliff_w",
   "elona.world_cliff_e",
   "elona.world_cliff_inner_sw",
   "elona.world_cliff_inner_se",
   "elona.world_blank",
   "elona.world_cliff_sw",
   "elona.world_cliff_s",
   "elona.world_cliff_se",
   "elona.world_cliff_top_5",
   "elona.world_grass_mountain_1",
   "elona.world_grass_mountain_2",
   "elona.world_grass_mountain_3",
   "elona.world_grass_mountain_4",
   "elona.world_grass_mountain_5",
   "elona.world_grass_mountain_6",
   "elona.world_snow_mountain_1",
   "elona.world_snow_mountain_2",
   "elona.world_snow_mountain_3"
}

local map1 = {
   "elona.grass",
   "elona.grass_violets",
   "elona.grass_rocks",
   "elona.grass_tall_1",
   "elona.grass_tall_2",
   "elona.grass_patch_1",
   "elona.grass_patch_2",
   "elona.grass_bush_1",
   "elona.grass_bush_2",
   "elona.grass_bush_3",
   "elona.grass_patch_3",
   "elona.grass_rocks_2",
   "elona.room_default",
   "elona.dryground",
   "elona.dark_dirt_1",
   "elona.dark_dirt_2",
   "elona.dark_dirt_3",
   "elona.dark_dirt_4",
   "elona.cobble_diagonal",
   "elona.cobble_diagonal_round",
   "elona.cobble_diagonal_raised",
   "elona.brick_1",
   "elona.carpet_1",
   "elona.tatami_1",
   "elona.tatami_2",
   "elona.light_grass_1",
   "elona.light_grass_2",
   "elona.light_grass_3",
   "elona.light_grass_bush_1",
   "elona.light_grass_bush_2",
   "elona.light_grass_plants",
   "elona.light_grass_patch",
   "elona.light_grass_shrubs",
   "elona.light_grass_bushes",
   "elona.light_grass_cliff_sw",
   "elona.light_grass_cliff_s",
   "elona.light_grass_cliff_se",
   "elona.light_grass_flowers",
   "elona.light_grass_dirt",
   "elona.light_grass_cobble_1",
   "elona.light_grass_cobble_2",
   "elona.light_grass_cobble_3",
   "elona.light_grass_cobble_4",
   "elona.light_grass_wheel",
   "elona.light_grass_railroad_tracks_ns",
   "elona.light_grass_railroad_tracks_we",
   "elona.light_grass_boulder",
   "elona.wall_stone_1_top",
   "elona.wall_stone_4_top",
   "elona.wall_stone_5_top",
   "elona.wall_wooden_top",
   "elona.wall_dirt_top",
   "elona.wall_dirt_dark_top",
   "elona.wall_shingled_top",
   "elona.wall_concrete_top",
   "elona.wall_forest_top",
   "elona.wall_stone_8_top",
   "elona.wall_stone_10_top",
   "elona.wall_hay_top",
   "elona.wall_white_top",
   "elona.wall_stone_1_bottom",
   "elona.wall_stone_4_bottom",
   "elona.wall_stone_5_bottom",
   "elona.wall_wooden_bottom",
   "elona.wall_dirt_bottom",
   "elona.wall_dirt_dark_bottom",
   "elona.wall_shingled_bottom",
   "elona.wall_concrete_bottom",
   "elona.wall_forest_bottom",
   "elona.wall_stone_8_bottom",
   "elona.wall_stone_10_bottom",
   "elona.wall_hay_bottom",
   "elona.wall_white_bottom",
   "elona.wall_stone_2_fog",
   "elona.wall_dirt_fog",
   "elona.wall_dirt_dark_fog",
   "elona.wall_forest_fog",
   "elona.wall_stone_6_fog",
   "elona.wall_stone_7_fog",
   "elona.wall_stone_8_fog",
   "elona.light_grass_carts",
   "elona.light_grass_carts_gold",
   "elona.light_grass_carts_jewels",
   "elona.light_grass_carts_rocks",
   "elona.light_grass_rocks",
   "elona.light_grass_fencing_ns",
   "elona.light_grass_fencing_we",
   "elona.grass_fencing_ns",
   "elona.grass_fencing_we",
   "elona.stable_bottom",
   "elona.horse_bottom",
   "elona.light_grass_box",
   "elona.cobble_diagonal_fish",
   "elona.cobble_diagonal_posts",
   "elona.cobble_diagonal_net",
   "elona.carpet_3_fish_boards",
   "elona.sign_magic",
   "elona.sign_inn",
   "elona.sign_equip",
   "elona.sign_blacksmith",
   "elona.sign_general_vendor",
   "elona.sign_shield",
   "elona.sign_potion",
   "elona.sign_lamp",
   "elona.sign_bakery",
   "elona.sign_pub",
   "elona.sign_casino"
}

local overrides = {}

local function add_tile(_id, atlas)
   local id = assert(data["base.map_tile"]:ensure(_id).elona_id)
   local x = (id % 33) * 48
   local y = math.floor(id / 33) * 48

   overrides[_id] = {
      image = {
         source = ("mod/tender_garden/graphic/map%d_add.bmp"):format(atlas),
         x = x,
         y = y,
         width = 48,
         height = 48,
         count_x = data["base.map_tile"]:ensure(_id).count_x or nil
      }
   }
end

for _, _id in ipairs(map0) do
   add_tile(_id, 0)
end

for _, _id in ipairs(map1) do
   add_tile(_id, 1)
end

data:add {
   _id = "tender_garden",
   _type = "base.theme",

   overrides = {
      ["base.map_tile"] = overrides
   }
}
